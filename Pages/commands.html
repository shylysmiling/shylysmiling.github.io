<!DOCTYPE html>
<html>
  <head></head>
  
  <body>
    <h2>Commands</h2>
    
    <section id="wget-mirror-site">
      <h3>Mirror site using <code>wget</code></h3>

      <p>Download entire <code>https://shylysmiling.github.io/</code> site:</p>
      <p>
        <code>wget --recursive --timestamping --level=inf --convert-links --page-requisites --no-parent --force-directories https://shylysmiling.github.io/</code>
      </p>

      <p>Notable options:</p>
      <ul>
        <li><code>--convert-links</code> enable converting remote links to local relative links in HTML documents after downloading finished.</li>
        <li><code>--no-parent</code> forbids to look up parent directories.</li>
        <li><code>--force-directories</code> enable creating folder hierarchy instead of downloading all resources to one flat folder.</li>
      </ul>
      
      <p>Search for all options at <a href="https://man7.org/linux/man-pages/man1/wget.1.html">man 'wget(1)'</a>.</p>
    </section>

    <section id="backup-home-to-zip">
      <h3>Create backup of personal data with <code>zip</code></h3>

      <p>List paths you want to include to archive in <code>includes.txt</code> file.</p>
      <p>The asterisk (<code>*</code>) is important for selecting all directory content.</p>
      <p>
        <code><pre>
/home/kelly/Documents/*
/home/kelly/Pictures/*
/home/kelly/Projects/*
/home/kelly/.profile
        </pre></code>
      </p>

      <p>List paths that must not be included in <code>excludes.txt</code> file.</p>
      <p>
        <code><pre>
/home/kelly/Projects/*.o
/home/kelly/Projects/*.a
        </pre></code>
      </p>

      <p>Run the archiver.</p>
      <p><code>zip -u -y -9 -r /home/kelly/backup.zip /home/kelly -i@includes.txt -x@excludes.txt</code></p>

      <p>Notable options:</p>
      <ul>
        <li><code>-y</code> force storing symlinks instead of dereferencing it.</li>
        <li><code>-r</code> enable recursive directories traversing.</li>
      </ul>

      <p>Search for all options at <a href="https://linux.die.net/man/1/zip">man 'zip(1)'</a>.</p>
    </section>

    <section id="gvfsd-mount-archive">
      <h3>Mount archive with GVFS</h3>

      <p>Ensure that GVFS is installed.</p>

      <p>Locate the <code>gvfsd-archive</code> executable inside <code>/usr</code>.</p>
      <p>
        <code>find /usr -name gvfsd-archive</code>
      </p>
      <p>It's found at <code>/usr/lib/gvfsd-archive</code> in my distribution.</p>
      
      <p>Mount the <code>/home/kelly/backup.zip</code> archive using previously founded program.</p>
      <p>
        <code>/usr/lib/gvfsd-archive file=/home/kelly/backup.zip</code>
      </p>
    </section>
    
  </body>
</html>
